require("../utils");print(readInput().lines().map(l=>["red","green","blue"].map(c=>l.split`: `[1].split`; `.map(l=>l.split`, `.map(x=>[+x.split` `[0],x.split` `[1]])).flat().filter(u=>u[1]==c).max(0)).product()).sum())